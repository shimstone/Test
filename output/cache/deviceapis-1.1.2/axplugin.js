(function(K){var x=!!K._APPSPRESSO_DEBUG;var e=K.ax;e.def(K).constant("ParamArray",Array).constant("UnsignedShortArray",Array).constant("ShortArray",Array).constant("FeatureArray",Array);var F="DeviceAPIError";function A(P,g,Q){e.AxError.apply(this,arguments);this.name=F}A.constructor=e.AxError;A.prototype=new e.AxError;A.toString=function(){return"function DeviceAPIError() { [native code]  }"};e.def(K).constant(F,A);function o(P,g,Q){return new A(P,g,Q)}function l(g){if(!e.isString(g)){throw new A(e.TYPE_MISMATCH_ERR)}}function s(g){if(g&&!e.isString(g)){throw new A(e.TYPE_MISMATCH_ERR)}}function k(g){if(!e.isNumber(g)){throw new A(e.TYPE_MISMATCH_ERR)}}function u(g){if(g&&!e.isNumber(g)){throw new A(e.TYPE_MISMATCH_ERR)}}function L(g){if(!e.isBoolean(g)){throw new A(e.TYPE_MISMATCH_ERR)}}function r(g){if(g&&!e.isBoolean(g)){throw new A(e.TYPE_MISMATCH_ERR)}}function H(g){if(!e.isObject(g)){throw new A(e.TYPE_MISMATCH_ERR)}}function c(g){if(g&&!e.isObject(g)){throw new A(e.TYPE_MISMATCH_ERR)}}function t(g){if(!e.isArray(g)){throw new A(e.TYPE_MISMATCH_ERR)}}function i(g){if(g&&!e.isArray(g)){throw new A(e.TYPE_MISMATCH_ERR)}}function I(g){if(!e.isFunction(g)){throw new A(e.TYPE_MISMATCH_ERR)}}function E(g){if(g&&!e.isFunction(g)){throw new A(e.TYPE_MISMATCH_ERR)}}function a(T,S,U,Q,P,g){try{return e.util.validateParam(T,S,U,Q,P,g)}catch(R){throw new A(R)}}function p(R,Q,P,g){try{return e.util.validateInstance(R,Q,P,g)}catch(S){throw new A(S)}}function B(g,Q,P){if(!e.isFunction(g)){throw new A(e.TYPE_MISMATCH_ERR,"invalid success callback")}if(Q===null||Q===undefined){return function(){e.console.warn('error callback was ignored from "'+P+'" method')}}if(!e.isFunction(Q)){throw new A(e.TYPE_MISMATCH_ERR,"invalid error callback")}return Q}e.def(e.util).method("createDeviceAPIError",o).method("validateParamWAC",a).method("validateInstanceWAC",p).method("validateCallback",B).method("validateOptionalStringParam",s).method("validateRequiredStringParam",l).method("validateOptionalNumberParam",u).method("validateRequiredNumberParam",k).method("validateOptionalArrayParam",i).method("validateRequiredArrayParam",t).method("validateOptionalObjectParam",c).method("validateRequiredObjectParam",H).method("validateOptionalFunctionParam",E).method("validateRequiredFunctionParam",I).method("validateOptionalBooleanParam",r).method("validateRequiredBooleanParam",L);var D="PendingOperation";function b(g){if(!e.isRequest(g)){throw new TypeError("Illegal constructor")}this.cancel=function(){return g.cancel()}}e.def(K).constant(D,b);var M="Feature";function v(g,Q,P){this.uri=g;this.required=Q;this.params=P}e.def(K).constant(M,v);function O(Q,P){try{return this.execSync(Q,P)}catch(g){throw new A(g)}}function d(S,g,P,R){B(g,P);try{return this.watch(S,g,P,R)}catch(Q){throw new A(Q)}}function J(Q,g){try{return this.stopWatch(Q,g)}catch(P){throw new A(P)}}function j(T,g,P,S){I(g);E(P);function Q(U){N(U,P)}try{return new b(this.execAsync(T,g,Q,S))}catch(R){throw new A(R)}}function N(P,g){if(e.isNumber(P)&&P===e.TYPE_MISMATCH_ERR){throw new A(e.TYPE_MISMATCH_ERR)}if(e.isError(P)&&P.code===e.TYPE_MISMATCH_ERR){throw P}if(!g){e.console.warn("error callback was ignored: error="+P);return}e.util.invokeLater(null,g,new A(P))}e.def(e.AxPlugin.prototype).method("execSyncWAC",O).method("execAsyncWAC",j).method("watchWAC",d).method("stopWatchWAC",J).method("errorAsyncWAC",N);var G="deviceapis";var h="Deviceapis";var w="listAvailableFeatures";var y="listActivatedFeatures";function q(){}function n(){var g=[];try{e.util.foreach(this.execSyncWAC(w),function(R,Q){g.push(new v(Q.uri,Q.required,Q.params))})}catch(P){if(x){e.debug("listAvailableFeatures failed, return null. {0}",P)}}return g}function C(){var g=[];try{e.util.foreach(this.execSyncWAC(y),function(R,Q){g.push(new v(Q.uri,Q.required,Q.params))})}catch(P){if(x){e.debug("listAvailableFeatures failed, return null. {0}",P)}}return g}function z(R,Q,P,g,S){return this.execAsyncWAC("_testAsync",R,Q,[P,g,S])}function m(P,g){return this.watchWAC("_testWatch",P,g,[])}function f(g){this.stopWatchWAC("_testClearWatch",g)}q.prototype=e.plugin(G,{_testAync:z,_testWatch:m,_testClearWatch:f,listAvailableFeatures:n,listActivatedFeatures:C});e.def(K).constant(h,q).constant(G,new q())}(window));